gyro=require("../libs/gyro.js"),Mobile={},Mobile.gyroCount=0,window.wasFlat=!0,Mobile.frequency=200,Mobile.checkIfMobile=function(){var e=gyro.getOrientation();return null==e.beta?"undefined"==typeof Mobile.isMobile&&(Mobile.isMobile=!1):(Mobile.isMobile=!0,$("body").addClass("Mobile")),Mobile.isMobile},Mobile.angleDiff=function(e,o){return a=o-e,a+=a>180?-360:a<-180?360:0,a=Math.abs(a),a},Mobile.map_range=function(e,o,t,n,i){return n+(i-n)*(e-o)/(t-o)},Mobile.angleToOpacity=function(e,o,t){var n=Mobile.angleDiff(e,o);return Mobile.map_range(n,0,t,1,0)},Mobile.startGyro=function(){var e=this;this.Events=[],0!=Mobile.checkIfMobile()&&gyro.startTracking(function(o){var t=Mobile.angleToOpacity(90,o.beta,90);$(".text").css({opacity:t}),$(".backgrounds").css({opacity:t}),t>.5&&(Mobile.gyroCount+=1,e.checkAndRunEvents(Mobile.gyroCount))})},Mobile.startGyro.prototype.enableDebug=function(){var e=this;window.clearInterval(window.fadeOutInterval),$(".text").show(),setInterval(function(){Mobile.gyroCount+=1,e.checkAndRunEvents(Mobile.gyroCount)},1e3)},Mobile.startGyro.prototype.addEvent=function(e,o){o(),this.Events.push({interval:e,"function":o,lastfire:Date.now()}),console.log("Adding event to fire every "+e)},Mobile.startGyro.prototype.getEvents=function(){console.log(this.Events)},Mobile.startGyro.prototype.checkAndRunEvents=function(e){_.forEach(this.Events,function(o){e%o.interval==0&&(console.log("running event!"),o["function"]())})},Mobile.init=function(){window.m=new Mobile.startGyro,m.addEvent(2,Events.incrementInterested),m.addEvent(4,Events.transitionGradients)},module.exports=Mobile;